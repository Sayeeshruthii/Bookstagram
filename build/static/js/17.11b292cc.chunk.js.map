{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","components/CustomDropdown/CustomDropdown.js","views/Signup/Signup.js"],"names":["_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","CustomDropdown","defaultLabel","options","onChangeOption","valueWithLabel","rest","useState","selectedOption","setSelectedOption","value","onChange","e","label","selectedIndex","text","disabled","map","defaultProps","selectOptions","withRouter","props","setData","emailValue","setEmailValue","passwordValue","setPasswordValue","usernameValue","setUsernameValue","userTypeValue","setuserTypeValue","errValue","setErrValue","handleSubmit","errors","formIsValid","lastAtPos","lastIndexOf","lastDotPos","handleValidation","console","log","signUpAPI","axios","create","baseURL","headers","post","first_name","last_name","country","username","email","password","usertype","then","response","status","data","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","history","push","pathname","state","catch","error","id","className","href","src","alt","type","placeholder","name","selected","htmlFor","style","color","onClick"],"mappings":"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","file":"static/js/17.11b292cc.chunk.js","sourcesContent":["import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React, { useState } from 'react';\r\n\r\nconst CustomDropdown = ({ defaultLabel, options, onChangeOption, valueWithLabel, ...rest }) => {\r\n    const [selectedOption, setSelectedOption] = useState(defaultLabel);\r\n\r\n    return (\r\n        <select\r\n            value={selectedOption}\r\n\r\n            onChange={e => {\r\n                setSelectedOption(e.target.value)\r\n                if (valueWithLabel) {\r\n                    onChangeOption({ label: e.target.options[e.target.selectedIndex].text, value: e.target.value })\r\n                }\r\n                else {\r\n                    onChangeOption(e.target.value)\r\n                }\r\n            }}\r\n            {...rest}\r\n        >\r\n            <option value={defaultLabel} disabled>\r\n                {defaultLabel}\r\n            </option>\r\n            {options && options.map(({ label, value }, i) => (\r\n                <option key={i} value={value}>{label ? label : value}</option>\r\n            ))}\r\n        </select>\r\n    )\r\n}\r\n\r\nCustomDropdown.defaultProps = {\r\n    defaultLabel: \"Choose an option\",\r\n    options: [],\r\n    valueWithLabel: false\r\n};\r\n\r\nexport default CustomDropdown;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n// import axiosMain from '../../http/axios/axios_main';\r\nimport { toast } from 'react-toastify';\r\nimport axios from 'axios';\r\nimport CustomDropdown from '../../components/CustomDropdown/CustomDropdown';\r\nimport { withRouter } from 'react-router';\r\n\r\nconst selectOptions = [\r\n  { label: 'Reader', value: 'Reader' },\r\n  { label: 'Author', value: 'Author' }\r\n];\r\n\r\nconst Signup = props => {\r\n  const [data, setData] = useState([]);\r\n  const [emailValue, setEmailValue] = useState();\r\n  const [passwordValue, setPasswordValue] = useState();\r\n  const [usernameValue, setUsernameValue] = useState();\r\n  const [userTypeValue, setuserTypeValue] = useState();\r\n\r\n  const [errValue, setErrValue] = useState();\r\n\r\n  const handleValidation = () => {\r\n    let errors = {};\r\n    let formIsValid = true;\r\n\r\n    //Name\r\n    if (!usernameValue) {\r\n      formIsValid = false;\r\n      errors = \"Username Cannot be empty\";\r\n    }\r\n\r\n    //Email\r\n    if (!emailValue) {\r\n      formIsValid = false;\r\n      errors = \"Email Cannot be empty\";\r\n    }\r\n\r\n    if (emailValue !== \"undefined\") {\r\n      let lastAtPos = emailValue.lastIndexOf('@');\r\n      let lastDotPos = emailValue.lastIndexOf('.');\r\n\r\n      if (!(lastAtPos < lastDotPos && lastAtPos > 0 && emailValue.indexOf('@@') == -1 && lastDotPos > 2 && (emailValue.length - lastDotPos) > 2)) {\r\n        formIsValid = false;\r\n        errors = \"Email is not valid\";\r\n      }\r\n    }\r\n    //Password\r\n    if (!passwordValue) {\r\n      formIsValid = false;\r\n      errors = \"Password Cannot be empty\";\r\n    }\r\n\r\n    if (passwordValue && passwordValue.length < 8) {\r\n      formIsValid = false;\r\n      errors = \"Password Cannot be less than 8 digits\";\r\n    }\r\n    setErrValue(errors);\r\n\r\n    return formIsValid;\r\n  }\r\n\r\n  const handleSubmit = () => {\r\n    if (handleValidation()) {\r\n      signUpAPI();\r\n    } else {\r\n      console.log(\"Error Value\", errValue)\r\n    }\r\n  };\r\n\r\n  const signUpAPI = () => {\r\n\r\n    const axiosMain = axios.create({\r\n      baseURL: 'http://40.80.95.65/store',\r\n      headers: {\r\n      },\r\n    });\r\n    axiosMain\r\n      .post('/create_user/', {\r\n        first_name: \"Dishant\",\r\n        last_name: \"Shah\",\r\n        country: \"ca\",\r\n        username: usernameValue,\r\n        email: emailValue,\r\n        password: passwordValue,\r\n        usertype: userTypeValue\r\n      })\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          console.log(\"RESPONSE\", response)\r\n          setData(response.data.data);\r\n          toast.success(`Sign Up Successful`, {\r\n            position: 'top-right',\r\n            autoClose: 3000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n          props.history.push({\r\n            pathname: `/verify-email`,\r\n            state: {\r\n              email: emailValue,\r\n            },\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        console.error('Error', error);\r\n      });\r\n  };\r\n\r\n  return (\r\n    <div id='main-wrapper'>\r\n      <div className='authincation section-padding'>\r\n        <div className='container h-100'>\r\n          <div className='row justify-content-center h-100 align-items-center'>\r\n            <div className='col-xl-5 col-md-6'>\r\n              <div className='mini-logo text-center my-4'>\r\n                <a href='./intro.html'>\r\n                  <img src='./images/logo.png' alt='' />\r\n                </a>\r\n                <h4 className='card-title mt-3'>Create your account</h4>\r\n              </div>\r\n              <div className='auth-form card'>\r\n                <div className='card-body'>\r\n                  <div className='col-12'>\r\n                    <input\r\n                      type='text'\r\n                      className='form-control'\r\n                      placeholder='Name'\r\n                      name='name'\r\n                      onChange={(e) => setUsernameValue(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className='col-12'>\r\n                    <input\r\n                      type='email'\r\n                      className='form-control'\r\n                      placeholder='hello@example.com'\r\n                      name='email'\r\n                      onChange={(e) => setEmailValue(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className='col-12'>\r\n                    <input\r\n                      type='password'\r\n                      className='form-control'\r\n                      placeholder='Password'\r\n                      name='password'\r\n                      onChange={(e) => setPasswordValue(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className='col-12'>\r\n                    <CustomDropdown\r\n                      className=\"form-select\"\r\n                      options={selectOptions}\r\n                      // value={}\r\n                      onChangeOption={(selected) => setuserTypeValue(selected)}\r\n                    />\r\n                  </div>\r\n                  <div className='col-12'>\r\n                    <div className='form-check form-switch'>\r\n                      <input\r\n                        className='form-check-input'\r\n                        type='checkbox'\r\n                        id='flexSwitchCheckDefault'\r\n                      />\r\n                      <label className='form-check-label' htmlFor='flexSwitchCheckDefault'>\r\n                        I agree to the{' '}\r\n                        <a href='#' className='text-primary'>\r\n                          User Agreement\r\n                        </a>{' '}\r\n                        and{' '}\r\n                        <a href='#' className='text-primary'>\r\n                          Privacy Policy\r\n                        </a>\r\n                        .\r\n                      </label>\r\n                      {\r\n                        errValue ?\r\n                          <p style={{ color: \"red\" }}>{errValue}</p>\r\n                          : null\r\n                      }\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className='text-center'>\r\n                    <button\r\n                      type='submit'\r\n                      className='btn btn-primary btn-block'\r\n                      onClick={() => handleSubmit()}\r\n                    >\r\n                      Create account\r\n                    </button>\r\n                  </div>\r\n                  <div className='text-center'>\r\n                    <p className='mt-3 mb-0'>\r\n                      {' '}\r\n                      <a className='text-primary' href='/'>\r\n                        Sign in\r\n                    </a>{' '}\r\n                      to your account\r\n                  </p>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default withRouter(Signup);\r\n"],"sourceRoot":""}