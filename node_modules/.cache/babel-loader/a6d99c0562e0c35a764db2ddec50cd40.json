{"ast":null,"code":"import _slicedToArray from\"C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import{useHistory}from\"react-router-dom\";import*as Yup from'yup';import logo from'../../assets/images/logo.png';import{USERNAME_REQUIRED,PASSWORD_REQUIRED,PASSWORD_VALID}from'../../constants/errorConstants';import{loginRequest}from'../../store/actions/';import{Spinner}from'../../components';var Login=function Login(){// const [passwordShown, setPasswordShown] = useState(false);\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),emailValue=_useState2[0],setEmailValue=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),passwordValue=_useState4[0],setPasswordValue=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),errValue=_useState6[0],setErrValue=_useState6[1];var handleValidation=function handleValidation(){var errors={};var formIsValid=true;// //Name\n// if (!usernameValue) {\n//   formIsValid = false;\n//   errors = \"Username Cannot be empty\";\n// }\n//Email\nif(!emailValue){formIsValid=false;errors=\"Username Cannot be empty\";}// if (emailValue !== \"undefined\") {\n//   let lastAtPos = emailValue.lastIndexOf('@');\n//   let lastDotPos = emailValue.lastIndexOf('.');\n//   if (!(lastAtPos < lastDotPos && lastAtPos > 0 && emailValue.indexOf('@@') == -1 && lastDotPos > 2 && (emailValue.length - lastDotPos) > 2)) {\n//     formIsValid = false;\n//     errors = \"Email is not valid\";\n//   }\n// }\n//Password\nif(!passwordValue){formIsValid=false;errors=\"Password Cannot be empty\";}if(passwordValue&&passwordValue.length<8){formIsValid=false;errors=\"Password Cannot be less than 8 digits\";}setErrValue(errors);return formIsValid;};var dispatch=useDispatch();var submitBtnHandler=function submitBtnHandler(){if(handleValidation()){dispatch(loginRequest({username:emailValue,password:passwordValue}));}else{console.log(\"Error Value\",errValue);}};// const togglePasswordVisiblity = () => {\n//   setPasswordShown(passwordShown ? false : true);\n// };\n// const history = useHistory();\nreturn/*#__PURE__*/_jsx(\"div\",{id:\"main-wrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"authincation section-padding\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container h-100\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center h-100 align-items-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-xl-5 col-md-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mini-logo text-center my-4\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"./intro.html\"}),/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{className:\"card-title mt-3\",children:\"Sign in to Bookstagram\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"auth-form card\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",placeholder:\"username\",name:\"email\",onChange:function onChange(e){return setEmailValue(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",placeholder:\"Password\",name:\"password\",onChange:function onChange(e){return setPasswordValue(e.target.value);},required:true})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-switch\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"flexSwitchCheckDefault\",onChange:function onChange(e){return console.log(\"Hi\",e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"flexSwitchCheckDefault\",children:\"Remember me\"}),errValue?/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:errValue}):null]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 text-right\",children:/*#__PURE__*/_jsx(Link,{to:\"/reset-password\",children:\"Forgot Password?\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary btn-block\",onClick:function onClick(){return submitBtnHandler();},children:\"Sign in\"})}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3 mb-0\",children:[\"Don't have an account?\",' ',/*#__PURE__*/_jsx(Link,{className:\"text-primary\",to:\"/signup\",children:\"Sign up\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"privacy-link\",children:/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:\"Privacy Policy\"})})]})})})})});};export default Login;","map":{"version":3,"sources":["C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/src/views/Login/Login.js"],"names":["React","useState","useEffect","Link","useDispatch","useSelector","useHistory","Yup","logo","USERNAME_REQUIRED","PASSWORD_REQUIRED","PASSWORD_VALID","loginRequest","Spinner","Login","emailValue","setEmailValue","passwordValue","setPasswordValue","errValue","setErrValue","handleValidation","errors","formIsValid","length","dispatch","submitBtnHandler","username","password","console","log","e","target","value","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport * as Yup from 'yup';\r\nimport logo from '../../assets/images/logo.png';\r\n\r\nimport {\r\n  USERNAME_REQUIRED,\r\n  PASSWORD_REQUIRED,\r\n  PASSWORD_VALID,\r\n} from '../../constants/errorConstants';\r\n\r\nimport { loginRequest } from '../../store/actions/';\r\nimport { Spinner } from '../../components';\r\n\r\nconst Login = () => {\r\n  // const [passwordShown, setPasswordShown] = useState(false);\r\n  const [emailValue, setEmailValue] = useState();\r\n  const [passwordValue, setPasswordValue] = useState({});\r\n  const [errValue, setErrValue] = useState();\r\n\r\n  const handleValidation = () => {\r\n    let errors = {};\r\n    let formIsValid = true;\r\n\r\n    // //Name\r\n    // if (!usernameValue) {\r\n    //   formIsValid = false;\r\n    //   errors = \"Username Cannot be empty\";\r\n    // }\r\n\r\n    //Email\r\n    if (!emailValue) {\r\n      formIsValid = false;\r\n      errors = \"Username Cannot be empty\";\r\n    }\r\n\r\n    // if (emailValue !== \"undefined\") {\r\n    //   let lastAtPos = emailValue.lastIndexOf('@');\r\n    //   let lastDotPos = emailValue.lastIndexOf('.');\r\n\r\n    //   if (!(lastAtPos < lastDotPos && lastAtPos > 0 && emailValue.indexOf('@@') == -1 && lastDotPos > 2 && (emailValue.length - lastDotPos) > 2)) {\r\n    //     formIsValid = false;\r\n    //     errors = \"Email is not valid\";\r\n    //   }\r\n    // }\r\n    //Password\r\n    if (!passwordValue) {\r\n      formIsValid = false;\r\n      errors = \"Password Cannot be empty\";\r\n    }\r\n\r\n    if (passwordValue && passwordValue.length < 8) {\r\n      formIsValid = false;\r\n      errors = \"Password Cannot be less than 8 digits\";\r\n    }\r\n    setErrValue(errors);\r\n\r\n    return formIsValid;\r\n  }\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const submitBtnHandler = () => {\r\n    if (handleValidation()) {\r\n      dispatch(loginRequest({ username: emailValue, password: passwordValue }));\r\n    } else {\r\n      console.log(\"Error Value\", errValue)\r\n    }\r\n\r\n  };\r\n\r\n  // const togglePasswordVisiblity = () => {\r\n  //   setPasswordShown(passwordShown ? false : true);\r\n  // };\r\n  // const history = useHistory();\r\n\r\n  return (\r\n    <div id='main-wrapper'>\r\n      <div className='authincation section-padding'>\r\n        <div className='container h-100'>\r\n          <div className='row justify-content-center h-100 align-items-center'>\r\n            <div className='col-xl-5 col-md-6'>\r\n              <div className='mini-logo text-center my-4'>\r\n                <a href='./intro.html' />\r\n                <img src={logo} alt='' />\r\n                <h4 className='card-title mt-3'>Sign in to Bookstagram</h4>\r\n              </div>\r\n              <div className='auth-form card'>\r\n                <div className='card-body'>\r\n                  <div className='col-12'>\r\n                    <input\r\n                      type='email'\r\n                      className='form-control'\r\n                      placeholder='username'\r\n                      name='email'\r\n                      onChange={(e) => setEmailValue(e.target.value)}\r\n                    />\r\n                  </div>\r\n                  <div className='col-12'>\r\n                    <input\r\n                      type='password'\r\n                      className='form-control'\r\n                      placeholder='Password'\r\n                      name='password'\r\n                      onChange={(e) => setPasswordValue(e.target.value)}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div className='col-6'>\r\n                    <div className='form-check form-switch'>\r\n                      <input\r\n                        className='form-check-input'\r\n                        type='checkbox'\r\n                        id='flexSwitchCheckDefault'\r\n                        onChange={(e) => console.log(\"Hi\", e.target.value)}\r\n                      />\r\n                      <label className='form-check-label' htmlFor='flexSwitchCheckDefault'>\r\n                        Remember me\r\n                        </label>\r\n                      {\r\n                        errValue ?\r\n                          <p style={{ color: \"red\" }}>{errValue}</p>\r\n                          : null\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                  <div className='col-6 text-right'>\r\n                    <Link to='/reset-password'>Forgot Password?</Link>\r\n                  </div>\r\n                  <div className='text-center'>\r\n                    <button\r\n                      type='submit'\r\n                      className='btn btn-primary btn-block'\r\n                      onClick={() => submitBtnHandler()}\r\n                    >\r\n                      Sign in\r\n                      </button>\r\n                  </div>\r\n                  <p className='mt-3 mb-0'>\r\n                    Don't have an account?{' '}\r\n                    <Link\r\n                      className='text-primary'\r\n                      to='/signup'\r\n                    >\r\n                      Sign up\r\n                    </Link>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div className='privacy-link'>\r\n                <Link\r\n                  to='/signup'>\r\n                  Privacy Policy\r\n                </Link>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Login;\r\n"]},"metadata":{},"sourceType":"module"}