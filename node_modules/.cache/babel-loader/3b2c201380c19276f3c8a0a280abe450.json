{"ast":null,"code":"import _slicedToArray from\"C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axiosMain from'../../http/axios/axios_main';import{toast}from'react-toastify';import Sidebar from'../../components/Sidebar/Sidebar';import Header from'../../components/Header/Header';var BookShelf=function BookShelf(props){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),errValue=_useState4[0],setErrValue=_useState4[1];useEffect(function(){getBooksOwned();},[]);var getBooksOwned=function getBooksOwned(){var userId=localStorage.getItem('userId');console.log(\"UserId\",userId);axiosMain.get('/ownbookusr/'+\"?pk=\"+userId).then(function(response){if(response.status===200){setData(response.data);toast.success(\"User Books Fetch Successful\",{position:'top-right',autoClose:3000,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}).catch(function(error){setErrValue(error);console.error('Error',error);setErrValue(\"This Books Fetch Failed\");});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"headingstyle\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"My Bookshelf\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bookshelf\",children:data.length>=1&&data.map(function(_ref,index){var bookJSON=_ref.bookJSON;return/*#__PURE__*/_jsx(_Fragment,{children:index%2==0?/*#__PURE__*/_jsx(\"div\",{className:\"book book-blue\",onClick:function onClick(e){},children:/*#__PURE__*/_jsx(\"h2\",{color:\"black\",children:bookJSON.name})}):/*#__PURE__*/_jsx(\"div\",{className:\"book-tilted\",children:/*#__PURE__*/_jsx(\"div\",{className:\"book book-umber\",children:/*#__PURE__*/_jsx(\"h2\",{style:{color:\"white\"},children:bookJSON.name})})})});})})]});};export default BookShelf;","map":{"version":3,"sources":["C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/src/views/BookShelf/BookShelf.js"],"names":["React","useState","useEffect","Link","axiosMain","toast","Sidebar","Header","BookShelf","props","data","setData","errValue","setErrValue","getBooksOwned","userId","localStorage","getItem","console","log","get","then","response","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","catch","error","length","map","index","bookJSON","e","name","color"],"mappings":"+TAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,OAASC,KAAT,KAAsB,gBAAtB,CAEA,MAAOC,CAAAA,OAAP,KAAoB,kCAApB,CACA,MAAOC,CAAAA,MAAP,KAAmB,gCAAnB,CAEA,GAAMC,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAC,KAAK,CAAI,eAECR,QAAQ,CAAC,EAAD,CAFT,wCAEhBS,IAFgB,eAEVC,OAFU,8BAGSV,QAAQ,EAHjB,yCAGhBW,QAHgB,eAGNC,WAHM,eAKvBX,SAAS,CAAC,UAAM,CACZY,aAAa,GAChB,CAFQ,CAEN,EAFM,CAAT,CAIA,GAAMA,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,EAAM,CACxB,GAAMC,CAAAA,MAAM,CAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAf,CACAC,OAAO,CAACC,GAAR,CAAY,QAAZ,CAAsBJ,MAAtB,EACAX,SAAS,CACJgB,GADL,CACS,eAAiB,MAAjB,CAA0BL,MADnC,EAEKM,IAFL,CAEU,SAAAC,QAAQ,CAAI,CACd,GAAIA,QAAQ,CAACC,MAAT,GAAoB,GAAxB,CAA6B,CACzBZ,OAAO,CAACW,QAAQ,CAACZ,IAAV,CAAP,CACAL,KAAK,CAACmB,OAAN,+BAA6C,CACzCC,QAAQ,CAAE,WAD+B,CAEzCC,SAAS,CAAE,IAF8B,CAGzCC,eAAe,CAAE,IAHwB,CAIzCC,YAAY,CAAE,IAJ2B,CAKzCC,YAAY,CAAE,IAL2B,CAMzCC,SAAS,CAAE,IAN8B,CAOzCC,QAAQ,CAAEC,SAP+B,CAA7C,EASH,CACJ,CAfL,EAgBKC,KAhBL,CAgBW,SAAAC,KAAK,CAAI,CACZrB,WAAW,CAACqB,KAAD,CAAX,CACAhB,OAAO,CAACgB,KAAR,CAAc,OAAd,CAAuBA,KAAvB,EACArB,WAAW,CAAC,yBAAD,CAAX,CACH,CApBL,EAqBH,CAxBD,CAyBA,mBACI,MAAC,KAAD,CAAO,QAAP,yBACI,KAAC,MAAD,IADJ,cAEI,KAAC,OAAD,IAFJ,cAGI,aAHJ,cAII,aAJJ,cAKI,aALJ,cAMI,aANJ,cAOI,aAPJ,cAQI,YAAK,SAAS,CAAC,cAAf,uBACI,oCADJ,EARJ,cAWI,YAAK,SAAS,CAAC,WAAf,UAEKH,IAAI,CAACyB,MAAL,EAAe,CAAf,EAAoBzB,IAAI,CAAC0B,GAAL,CAAS,cAAeC,KAAf,KAAGC,CAAAA,QAAH,MAAGA,QAAH,oBAC1B,yBACKD,KAAK,CAAG,CAAR,EAAa,CAAb,cACG,YAAK,SAAS,CAAC,gBAAf,CAAgC,OAAO,CAAE,iBAACE,CAAD,CAAO,CAAG,CAAnD,uBACI,WAAI,KAAK,CAAC,OAAV,UAAmBD,QAAQ,CAACE,IAA5B,EADJ,EADH,cAIG,YAAK,SAAS,CAAC,aAAf,uBACI,YAAK,SAAS,CAAC,iBAAf,uBACI,WAAI,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAT,CAAX,UAAgCH,QAAQ,CAACE,IAAzC,EADJ,EADJ,EALR,EAD0B,EAAT,CAFzB,EAXJ,GADJ,CAmCH,CArED,CAuEA,cAAehC,CAAAA,SAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axiosMain from '../../http/axios/axios_main';\r\nimport { toast } from 'react-toastify';\r\n\r\nimport Sidebar from '../../components/Sidebar/Sidebar';\r\nimport Header from '../../components/Header/Header';\r\n\r\nconst BookShelf = props => {\r\n\r\n    const [data, setData] = useState([]);\r\n    const [errValue, setErrValue] = useState();\r\n\r\n    useEffect(() => {\r\n        getBooksOwned();\r\n    }, []);\r\n\r\n    const getBooksOwned = () => {\r\n        const userId = localStorage.getItem('userId');\r\n        console.log(\"UserId\", userId);\r\n        axiosMain\r\n            .get('/ownbookusr/' + \"?pk=\" + userId)\r\n            .then(response => {\r\n                if (response.status === 200) {\r\n                    setData(response.data);\r\n                    toast.success(`User Books Fetch Successful`, {\r\n                        position: 'top-right',\r\n                        autoClose: 3000,\r\n                        hideProgressBar: true,\r\n                        closeOnClick: true,\r\n                        pauseOnHover: true,\r\n                        draggable: true,\r\n                        progress: undefined,\r\n                    });\r\n                }\r\n            })\r\n            .catch(error => {\r\n                setErrValue(error);\r\n                console.error('Error', error);\r\n                setErrValue(\"This Books Fetch Failed\")\r\n            });\r\n    };\r\n    return (\r\n        <React.Fragment>\r\n            <Header />\r\n            <Sidebar />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <br />\r\n            <div className=\"headingstyle\">\r\n                <h1>My Bookshelf</h1>\r\n            </div>\r\n            <div className=\"bookshelf\">\r\n\r\n                {data.length >= 1 && data.map(({ bookJSON }, index) => (\r\n                    <>\r\n                        {index % 2 == 0 ?\r\n                            <div className=\"book book-blue\" onClick={(e) => { }}>\r\n                                <h2 color=\"black\">{bookJSON.name}</h2>\r\n                            </div> :\r\n                            <div className=\"book-tilted\">\r\n                                <div className=\"book book-umber\">\r\n                                    <h2 style={{ color: \"white\" }}>{bookJSON.name}</h2>\r\n                                </div>\r\n                            </div>\r\n                        }\r\n                    </>\r\n                ))}\r\n\r\n            </div>\r\n\r\n\r\n        </React.Fragment >\r\n\r\n    );\r\n}\r\n\r\nexport default BookShelf;\r\n"]},"metadata":{},"sourceType":"module"}