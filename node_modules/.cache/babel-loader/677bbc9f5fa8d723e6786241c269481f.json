{"ast":null,"code":"import _slicedToArray from\"C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import axiosMain from'../../http/axios/axios_main';import{toast}from'react-toastify';import Sidebar from'../../components/Sidebar/Sidebar';import Header from'../../components/Header/Header';import{withRouter}from'react-router';import book1 from'../../assets/images/demo/book1.jpg';import backview from'../../assets/images/demo/backviewbook1.jpg';import book3d from'../../assets/images/demo/3dviewbook1.jpg';import{BsFillStarFill}from\"react-icons/bs\";var BookDescription=function BookDescription(props){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),id=_useState4[0],setId=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),errValue=_useState6[0],setErrValue=_useState6[1];useEffect(function(){if(!data){if(props.location.state){console.log(\"Props\",props.location.state.bookId);var bookID=props.location.state.bookId;setId(bookID);console.log('Data',id);axiosMain.get('/book/'+props.location.state.bookId+'/').then(function(response){if(response.status===200){console.log(\"Response\",response.data);setData(response.data);toast.success(\"User Books Fetch Successful\",{position:'top-right',autoClose:3000,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}).catch(function(error){setErrValue(error);console.error('Error',error);setErrValue(\"This Books Fetch Failed\");});}}},[]);var getRatings=function getRatings(ratings){var content=[];for(var i=0;i<ratings;i++){content.push(/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-warning btn-xs\",\"aria-label\":\"Left Align\",children:/*#__PURE__*/_jsx(\"span\",{children:/*#__PURE__*/_jsx(BsFillStarFill,{})})}));}return content;};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"head\",{children:/*#__PURE__*/_jsx(Link,{rel:\"stylesheet\",href:\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\"})}),data?/*#__PURE__*/_jsxs(\"main\",{className:\"container-bookdesc\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"left-column-bookdesc\",children:/*#__PURE__*/_jsx(\"img\",{className:\"active\",src:data.dp,alt:\"\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"right-column-bookdesc\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"product-description\",children:[/*#__PURE__*/_jsx(\"h2\",{children:data.name}),/*#__PURE__*/_jsx(\"h1\",{children:data.authJSON.first_name}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description for the book: \",data.desc,/*#__PURE__*/_jsx(\"span\",{id:\"dots\",children:\"...\"}),/*#__PURE__*/_jsx(\"span\",{id:\"more\",children:data.desc})]}),/*#__PURE__*/_jsx(\"button\",{onclick:\"myFunction()\",id:\"myBtn\",children:\"Read more\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"product-configuration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"product-price\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[data.rate,\"$\"]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"cart-btn\",children:\"Add to cart\"})]}),/*#__PURE__*/_jsx(\"div\",{}),/*#__PURE__*/_jsx(\"a\",{href:\"../../asset/wof.pdf\",className:\"cart-btn read_online\",children:\"Read Online\"})]})]}):null,/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-7\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"review-block\",children:[data&&data.CommentJSON.length>=1&&data.CommentJSON.map(function(_ref,index){var ratings=_ref.ratings,comments=_ref.comments,AuthJSON=_ref.AuthJSON,publist=_ref.publist;return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://dummyimage.com/60x60/666/ffffff&text=No+Image\",className:\"img-rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"review-block-name\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",children:AuthJSON.first_name})}),/*#__PURE__*/_jsx(\"div\",{className:\"review-block-date\",children:publist})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-9\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"review-block-rate\",children:getRatings(ratings)}),/*#__PURE__*/_jsx(\"div\",{className:\"review-block-title\",children:comments}),/*#__PURE__*/_jsx(\"div\",{className:\"review-block-description\",children:comments})]})]});}),/*#__PURE__*/_jsx(\"hr\",{})]})})})})]});};export default withRouter(BookDescription);","map":{"version":3,"sources":["C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/src/views/BookDescription/BookDescription.js"],"names":["React","useState","useEffect","Link","axiosMain","toast","Sidebar","Header","withRouter","book1","backview","book3d","BsFillStarFill","BookDescription","props","data","setData","id","setId","errValue","setErrValue","location","state","console","log","bookId","bookID","get","then","response","status","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","catch","error","getRatings","ratings","content","i","push","dp","name","authJSON","first_name","desc","rate","CommentJSON","length","map","index","comments","AuthJSON","publist"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport axiosMain from '../../http/axios/axios_main';\r\nimport { toast } from 'react-toastify';\r\nimport Sidebar from '../../components/Sidebar/Sidebar';\r\nimport Header from '../../components/Header/Header';\r\nimport { withRouter } from 'react-router';\r\n\r\nimport book1 from '../../assets/images/demo/book1.jpg';\r\nimport backview from '../../assets/images/demo/backviewbook1.jpg';\r\nimport book3d from '../../assets/images/demo/3dviewbook1.jpg';\r\nimport { BsFillStarFill } from \"react-icons/bs\";\r\n\r\nconst BookDescription = props => {\r\n  const [data, setData] = useState(null);\r\n  const [id, setId] = useState();\r\n\r\n  const [errValue, setErrValue] = useState();\r\n\r\n  useEffect(() => {\r\n    if (!data) {\r\n      if (props.location.state) {\r\n        console.log(\"Props\", props.location.state.bookId);\r\n        const bookID = props.location.state.bookId;\r\n        setId(bookID);\r\n        console.log('Data', id);\r\n\r\n\r\n        axiosMain\r\n          .get('/book/' + props.location.state.bookId + '/')\r\n          .then(response => {\r\n            if (response.status === 200) {\r\n              console.log(\"Response\", response.data)\r\n              setData(response.data);\r\n              toast.success(`User Books Fetch Successful`, {\r\n                position: 'top-right',\r\n                autoClose: 3000,\r\n                hideProgressBar: true,\r\n                closeOnClick: true,\r\n                pauseOnHover: true,\r\n                draggable: true,\r\n                progress: undefined,\r\n              });\r\n            }\r\n          })\r\n          .catch(error => {\r\n            setErrValue(error);\r\n            console.error('Error', error);\r\n            setErrValue(\"This Books Fetch Failed\")\r\n          });\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  const getRatings = (ratings) => {\r\n    let content = [];\r\n\r\n    for (var i = 0; i < ratings; i++) {\r\n      content.push(<button type=\"button\" className=\"btn btn-warning btn-xs\" aria-label=\"Left Align\">\r\n        <span ><BsFillStarFill /></span>\r\n      </button>)\r\n    }\r\n    return content;\r\n  };\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <Sidebar />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <br />\r\n      <head>\r\n        <Link rel=\"stylesheet\" href=\"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css\" />\r\n      </head>\r\n\r\n      {data ?\r\n        <main className=\"container-bookdesc\">\r\n\r\n          {/* <!-- Left Column / Headphones Image --> */}\r\n          <div className=\"left-column-bookdesc\">\r\n            <img className=\"active\" src={data.dp} alt=\"\" />\r\n          </div>\r\n\r\n\r\n          {/* <!-- Right Column --> */}\r\n          <div className=\"right-column-bookdesc\">\r\n\r\n            {/* <!-- Product Description --> */}\r\n            <div className=\"product-description\">\r\n              <h2>{data.name}</h2>\r\n              <h1>{data.authJSON.first_name}</h1>\r\n              <p>Description for the book: {data.desc}<span id=\"dots\">...</span>\r\n\r\n                <span id=\"more\">{data.desc}</span></p>\r\n              <button onclick=\"myFunction()\" id=\"myBtn\">Read more</button>\r\n            </div>\r\n\r\n            < div className=\"product-configuration\" >\r\n\r\n              {/* <!-- Product Color -->\r\n          <div className=\"product-color\">\r\n            <span>Views</span>\r\n\r\n            <div className=\"color-choose\">\r\n              <div>\r\n                <input data-image=\"frontview\" type=\"radio\" id=\"frontview\" name=\"View\" value=\"frontview\" checked />\r\n                <label for=\"frontview\"><span>Front View</span></label>\r\n              </div>\r\n              <div>\r\n                <input data-image=\"backview\" type=\"radio\" id=\"backview\" name=\"View\" value=\"backview\"/>\r\n                <label for=\"backview\"><span>Back View</span></label>\r\n              </div>\r\n              <div>\r\n                <input data-image=\"3dview\" type=\"radio\" id=\"3dview\" name=\"View\" value=\"3dview\"/>\r\n                <label for=\"3dview\"><span>3D View</span></label>\r\n              </div>\r\n            </div>\r\n\r\n          </div> */}\r\n\r\n              {/* <!-- Cable Configuration --> */}\r\n\r\n\r\n            </div>\r\n\r\n            {/* <!-- Product Pricing --> */}\r\n            < div className=\"product-price\" >\r\n              <span>{data.rate}$</span>\r\n              <a href=\"#\" className=\"cart-btn\">Add to cart</a>\r\n\r\n            </div>\r\n            <div></div>\r\n            <a href=\"../../asset/wof.pdf\" className=\"cart-btn read_online\">Read Online</a>\r\n          </div>\r\n        </main> : null}\r\n\r\n      <main>\r\n        <div className=\"row\">\r\n          <div className=\"col-sm-7\">\r\n            <div className=\"review-block\">\r\n\r\n              {data && data.CommentJSON.length >= 1 && data.CommentJSON.map(({ ratings, comments, AuthJSON, publist }, index) => (\r\n                <div className=\"row\">\r\n                  <div className=\"col-sm-3\">\r\n                    <img src=\"http://dummyimage.com/60x60/666/ffffff&text=No+Image\" className=\"img-rounded\" />\r\n                    <div className=\"review-block-name\"><a href=\"#\">{AuthJSON.first_name}</a></div>\r\n                    <div className=\"review-block-date\">{publist}</div>\r\n                  </div>\r\n                  <div className=\"col-sm-9\">\r\n                    <div className=\"review-block-rate\">\r\n                      {getRatings(ratings)}\r\n                    </div>\r\n                    <div className=\"review-block-title\">{comments}</div>\r\n                    <div className=\"review-block-description\">{comments}</div>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n\r\n              <hr />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </main>\r\n    </React.Fragment >\r\n  )\r\n};\r\n\r\nexport default withRouter(BookDescription);\r\n"]},"metadata":{},"sourceType":"module"}