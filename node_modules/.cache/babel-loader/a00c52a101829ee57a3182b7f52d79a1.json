{"ast":null,"code":"import _slicedToArray from\"C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React,{useEffect,useState}from'react';import{useDispatch,useSelector}from\"react-redux\";import{Link}from'react-router-dom';import axiosMain from'../../http/axios/axios_main';import{toast}from'react-toastify';import profileImage from'../../assets/images/profile/2.png';import Sidebar from'../../components/Sidebar/Sidebar';import Header from'../../components/Header/Header';import{Row,Col,Container}from\"reactstrap\";import img1 from'../../assets/images/profile/3.png';import img2 from'../../assets/images/img8.png';import{BsFillStarFill}from\"react-icons/bs\";function shoot(){alert(\"Your book has been added to cart\");}var Home=function Home(){var userData=JSON.parse(localStorage.getItem('userData'));var _useState=useState([]),_useState2=_slicedToArray(_useState,2),postData=_useState2[0],setPostData=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),comment=_useState4[0],setComment=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),errValue=_useState6[0],setErrValue=_useState6[1];var dispatch=useDispatch();var data=useSelector(function(state){return state;});useEffect(function(){getAllPost();},[]);var getAllPost=function getAllPost(){var userId=localStorage.getItem('userId');axiosMain.get('/txtpostbyuser/'+'?pk='+userId).then(function(response){if(response.status===200){console.log(\"RESPONSE\",response.data);setPostData(response.data);toast.success(\"User Profile Fetch Successful\",{position:'top-right',autoClose:3000,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}).catch(function(error){setErrValue(error);console.error('Error',error);setErrValue(\"This User Profile Fetch Failed\");});};var addCommentHandler=function addCommentHandler(comment,postId){var obj={};obj.comment=comment;obj.postId=postId;setComment(obj);console.log(\"Comment obj:\",obj);};var submitCommentHandler=function submitCommentHandler(e){e.preventDefault();var userId=localStorage.getItem('userId');console.log(\"Comment:\",comment);axiosMain.post('/postcomment/',{user:userId,post:comment.postId,comments:comment.comment}).then(function(response){if(response.status===200){console.log(\"RESPONSE\",response.data);window.location.reload(false);toast.success(\"User Profile Fetch Successful\",{position:'top-right',autoClose:3000,hideProgressBar:true,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});}}).catch(function(error){setErrValue(error);console.error('Error',error);setErrValue(\"This User Profile Fetch Failed\");});};return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(Header,{}),/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"content-body\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-xxl-6 col-xl-6 col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"invite-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Invite a friend and get $30\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"You will receive up to $30 when they sign up with your invite link \",/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsx(\"div\",{className:\"copy-link\",children:/*#__PURE__*/_jsx(\"form\",{action:\"#\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:\"https://www.bookstagram.io/join/12345\"}),/*#__PURE__*/_jsx(\"span\",{className:\"input-group-text\",children:\"Copy\"})]})})})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xxl-6 col-xl-6 col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"invite-content\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Get commisions every day\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You can receive money when your friends buys book from you\"}),/*#__PURE__*/_jsx(Link,{to:\"/add-friends\",className:\"btn btn-primary\",children:\"Add Friends\"})]})})})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-xxl-3 col-xl-6 col-lg-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card welcome-profile\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"./images/profile/2.png\",alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:\"Welcome, Dishant Shah!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Looks like you are not verified yet. Verify yourself to use the full potential of Bookstagram.\"}),/*#__PURE__*/_jsx(\"ul\",{children:/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"verified\",children:/*#__PURE__*/_jsx(\"i\",{className:\"icofont-check-alt\"})}),\"Verify account\"]})})})]})})}),/*#__PURE__*/_jsx(Container,{children:postData.length>=1&&postData.map(function(_ref,index){var id=_ref.id,authJSON=_ref.authJSON,user=_ref.user,post=_ref.post,likes=_ref.likes,comments=_ref.comments,share=_ref.share,header=_ref.header,types=_ref.types,dp=_ref.dp,publist=_ref.publist,CommentsJSON=_ref.CommentsJSON;return/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsx(\"article\",{className:\"blog-card\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"blog-card_outline\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"post-username\",children:[\" \",/*#__PURE__*/_jsx(\"img\",{src:img1,alt:\" Profile image\",style:({width:\"20px\"},{height:\"40px\"})}),\"  \",authJSON.first_name,\" \",authJSON.last_name,\" shared a post\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"blog-card__info\",children:[/*#__PURE__*/_jsx(\"img\",{src:dp,alt:\"Unfinished\",width:\"200\",height:\"300\"}),/*#__PURE__*/_jsx(\"h5\",{children:types}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",className:\"icon-link mr-3\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"icofont-link\"}),\" \",header]})}),/*#__PURE__*/_jsx(\"p\",{className:\"new-post\",children:post}),/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsxs(\"i\",{onclick:\"myFunction(this)\",className:\"icofont-thumbs-up\",children:[\" \",likes]}),/*#__PURE__*/_jsx(\"i\",{className:\"icofont-thumbs-down\",children:\" 3\"}),/*#__PURE__*/_jsxs(\"i\",{className:\"icofont-comment\",children:[\" \",comments]}),/*#__PURE__*/_jsx(\"i\",{class:\"icofont-share-boxed\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-7\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"review-block-newsfeed\",children:CommentsJSON&&CommentsJSON.length>=1&&CommentsJSON.map(function(_ref2,index){var userJSON=_ref2.userJSON,comments=_ref2.comments,publist=_ref2.publist;return/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-3\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"http://dummyimage.com/60x60/666/ffffff&text=No+Image\",className:\"img-rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"review-block-name\",children:/*#__PURE__*/_jsxs(\"a\",{href:\"#\",children:[userJSON.first_name,\" \",userJSON.last_name]})}),/*#__PURE__*/_jsx(\"div\",{className:\"review-block-date\",children:publist})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-9\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"review-block-title\",children:comments}),/*#__PURE__*/_jsx(\"div\",{className:\"review-block-description\",children:comments})]})]});})}),/*#__PURE__*/_jsx(\"hr\",{})]})}),/*#__PURE__*/_jsxs(\"form\",{className:\"comment-form\",method:\"post\",action:\" \",children:[\"Comments: \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"add your comment\",name:\"comment\",onChange:function onChange(e){return setComment({\"comment\":e.target.value,\"postId\":id});}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",onClick:function onClick(e){return submitCommentHandler(e);},children:\"Submit\"}),/*#__PURE__*/_jsx(\"button\",{className:\"addtowishlist\",onClick:shoot,children:/*#__PURE__*/_jsx(\"span\",{children:\"Buy Now\"})})]})]})]})]})})})});})})]})})})]});};export default Home;","map":{"version":3,"sources":["C:/Users/sayee/Documents/Adv Sw Engg/BookHUB/frontend-react/src/views/Home/Home.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","axiosMain","toast","profileImage","Sidebar","Header","Row","Col","Container","img1","img2","BsFillStarFill","shoot","alert","Home","userData","JSON","parse","localStorage","getItem","postData","setPostData","comment","setComment","errValue","setErrValue","dispatch","data","state","getAllPost","userId","get","then","response","status","console","log","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","catch","error","addCommentHandler","postId","obj","submitCommentHandler","e","preventDefault","post","user","comments","window","location","reload","length","map","index","id","authJSON","likes","share","header","types","dp","publist","CommentsJSON","width","height","first_name","last_name","userJSON","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link } from 'react-router-dom';\r\nimport axiosMain from '../../http/axios/axios_main';\r\nimport { toast } from 'react-toastify';\r\nimport profileImage from '../../assets/images/profile/2.png';\r\nimport Sidebar from '../../components/Sidebar/Sidebar';\r\nimport Header from '../../components/Header/Header';\r\nimport { Row, Col, Container } from \"reactstrap\";\r\nimport img1 from '../../assets/images/profile/3.png';\r\nimport img2 from '../../assets/images/img8.png';\r\nimport { BsFillStarFill } from \"react-icons/bs\";\r\n\r\nfunction shoot() {\r\n  alert(\"Your book has been added to cart\");\r\n}\r\n\r\nconst Home = () => {\r\n  const userData = JSON.parse(localStorage.getItem('userData'));\r\n\r\n  const [postData, setPostData] = useState([]);\r\n  const [comment, setComment] = useState();\r\n\r\n  const [errValue, setErrValue] = useState();\r\n  const dispatch = useDispatch();\r\n\r\n  const data = useSelector(state => state);\r\n\r\n  useEffect(() => {\r\n    getAllPost();\r\n  }, []);\r\n\r\n  const getAllPost = () => {\r\n    const userId = localStorage.getItem('userId');\r\n    axiosMain\r\n      .get('/txtpostbyuser/' + '?pk=' + userId)\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          console.log(\"RESPONSE\", response.data)\r\n          setPostData(response.data);\r\n          toast.success(`User Profile Fetch Successful`, {\r\n            position: 'top-right',\r\n            autoClose: 3000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        setErrValue(error);\r\n        console.error('Error', error);\r\n        setErrValue(\"This User Profile Fetch Failed\")\r\n      });\r\n  };\r\n\r\n  const addCommentHandler = (comment, postId) => {\r\n    let obj = {};\r\n    obj.comment = comment;\r\n    obj.postId = postId;\r\n    setComment(obj);\r\n    console.log(\"Comment obj:\", obj)\r\n  }\r\n\r\n  const submitCommentHandler = (e) => {\r\n    e.preventDefault();\r\n\r\n    const userId = localStorage.getItem('userId');\r\n    console.log(\"Comment:\", comment)\r\n    axiosMain\r\n      .post('/postcomment/', {\r\n        user: userId,\r\n        post: comment.postId,\r\n        comments: comment.comment\r\n      })\r\n      .then(response => {\r\n        if (response.status === 200) {\r\n          console.log(\"RESPONSE\", response.data)\r\n          window.location.reload(false);\r\n          toast.success(`User Profile Fetch Successful`, {\r\n            position: 'top-right',\r\n            autoClose: 3000,\r\n            hideProgressBar: true,\r\n            closeOnClick: true,\r\n            pauseOnHover: true,\r\n            draggable: true,\r\n            progress: undefined,\r\n          });\r\n        }\r\n      })\r\n      .catch(error => {\r\n        setErrValue(error);\r\n        console.error('Error', error);\r\n        setErrValue(\"This User Profile Fetch Failed\")\r\n      });\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Header />\r\n      <Sidebar />\r\n      <div className=\"content-body\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xxl-6 col-xl-6 col-lg-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"invite-content\">\r\n                    <h4>Invite a friend and get $30</h4>\r\n                    <p>You will receive up to $30 when they sign up with your invite link <br />\r\n                    </p>\r\n                    <div className=\"copy-link\">\r\n                      <form action=\"#\">\r\n                        <div className=\"input-group\">\r\n                          <input type=\"text\" className=\"form-control\"\r\n                            value=\"https://www.bookstagram.io/join/12345\" />\r\n                          <span className=\"input-group-text\">Copy</span>\r\n                        </div>\r\n                      </form>\r\n                    </div>\r\n\r\n                    {/* <!-- <div className=\"social-share-link\">\r\n                      <a href=\"#\"><span><i className=\"icofont-facebook\"></i></span></a>\r\n                      <a href=\"#\"><span><i className=\"icofont-twitter\"></i></span></a>\r\n                      <a href=\"#\"><span><i className=\"icofont-whatsapp\"></i></span></a>\r\n                      <a href=\"#\"><span><i className=\"icofont-telegram\"></i></span></a>\r\n                    </div> --> */}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xxl-6 col-xl-6 col-lg-12\">\r\n              <div className=\"card\">\r\n                <div className=\"card-body\">\r\n                  <div className=\"invite-content\">\r\n                    <h4>Get commisions every day</h4>\r\n                    <p>You can receive money when your friends buys book from you</p>\r\n                    <Link\r\n                      to=\"/add-friends\"\r\n                      className=\"btn btn-primary\"\r\n                    >\r\n                      Add Friends\r\n                    </Link>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"col-xxl-3 col-xl-6 col-lg-6\">\r\n              <div className=\"card welcome-profile\">\r\n                <div className=\"card-body\">\r\n                  <img src=\"./images/profile/2.png\" alt=\"\" />\r\n                  <h4>Welcome, Dishant Shah!</h4>\r\n                  <p>Looks like you are not verified yet. Verify yourself to use the full potential of\r\n                                    Bookstagram.</p>\r\n\r\n                  <ul>\r\n                    <li>\r\n                      <a href=\"#\">\r\n                        <span className=\"verified\"><i className=\"icofont-check-alt\"></i></span>\r\n                        Verify account\r\n                                        </a>\r\n                    </li>\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <Container>\r\n              {postData.length >= 1 && postData.map(({ id, authJSON, user, post, likes, comments, share, header, types, dp, publist, CommentsJSON }, index) => (\r\n                <Row>\r\n                  <div className=\"col-12\">\r\n                    <article className=\"blog-card\">\r\n                      <div class=\"blog-card_outline\">\r\n                        <span className=\"post-username\"> <img src={img1} alt=\" Profile image\" style={{ width: \"20px\" }, { height: \"40px\" }} />  {authJSON.first_name} {authJSON.last_name} shared a post</span>\r\n                        <div className=\"blog-card__info\">\r\n                          <img src={dp} alt=\"Unfinished\" width=\"200\" height=\"300\" />\r\n\r\n                          <h5>{types}</h5>\r\n                          <p>\r\n                            <a href=\"#\" className=\"icon-link mr-3\"><i className=\"icofont-link\"></i> {header}</a>\r\n                          </p>\r\n                          <p className=\"new-post\">{post}\r\n                          </p>\r\n                          <span>\r\n                            <i onclick=\"myFunction(this)\" className=\"icofont-thumbs-up\"> {likes}</i>\r\n                            <i className=\"icofont-thumbs-down\"> 3</i>\r\n                            <i className=\"icofont-comment\"> {comments}</i>\r\n                            <i class=\"icofont-share-boxed\"></i>\r\n                            <div className=\"row\">\r\n                              <div className=\"col-sm-7\">\r\n                                <div className=\"review-block-newsfeed\">\r\n                                  {CommentsJSON && CommentsJSON.length >= 1 && CommentsJSON.map(({ userJSON, comments, publist }, index) => (\r\n                                    < div className=\"row\" >\r\n                                      <div className=\"col-sm-3\">\r\n                                        <img src=\"http://dummyimage.com/60x60/666/ffffff&text=No+Image\" className=\"img-rounded\" />\r\n                                        <div className=\"review-block-name\"><a href=\"#\">{userJSON.first_name} {userJSON.last_name}</a></div>\r\n                                        <div className=\"review-block-date\">{publist}</div>\r\n                                      </div>\r\n                                      <div className=\"col-sm-9\">\r\n                                        <div className=\"review-block-title\">{comments}</div>\r\n                                        <div className=\"review-block-description\">{comments}</div>\r\n                                      </div>\r\n                                    </div>\r\n                                  ))}\r\n\r\n                                </div>\r\n\r\n                                <hr />\r\n                              </div>\r\n                            </div>\r\n                            <form className=\"comment-form\" method=\"post\" action=\" \">\r\n                              Comments: <br />\r\n                              <input\r\n                                type='text'\r\n                                placeholder='add your comment'\r\n                                name='comment'\r\n                                onChange={(e) => setComment({ \"comment\": e.target.value, \"postId\": id })}\r\n                              />\r\n                              <br />\r\n                              <button\r\n                                type='submit'\r\n                                className='btn btn-primary'\r\n                                onClick={(e) => submitCommentHandler(e)}\r\n                              >\r\n                                Submit\r\n                             </button>\r\n                              <button className=\"addtowishlist\" onClick={shoot}><span>Buy Now</span></button>\r\n                              {/* <a href=\"#\" className=\"addtowishlist\"><span>Buy Now</span></a> */}\r\n                            </form>\r\n\r\n                          </span>\r\n\r\n                        </div>\r\n\r\n                      </div>\r\n\r\n                    </article>\r\n                  </div>\r\n                </Row>\r\n              ))}\r\n            </Container>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </React.Fragment >\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"]},"metadata":{},"sourceType":"module"}